{% extends 'base.html' %} {% block title %}Order #{{ order.id }} - E-Commerce
Store{% endblock %} {% block content %}
<style>
   .order-detail-container {
      max-width: 900px;
      margin: 0 auto;
   }
   .order-card {
      background: white;
      border-radius: 8px;
      padding: 2rem;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
   }
   .order-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 2px solid #ecf0f1;
      padding-bottom: 1.5rem;
      margin-bottom: 2rem;
   }
   .order-title {
      font-size: 1.8rem;
      color: #2c3e50;
   }
   .order-status {
      padding: 0.7rem 1.5rem;
      border-radius: 20px;
      font-size: 1rem;
      font-weight: 500;
   }
   .status-pending {
      background-color: #fff3cd;
      color: #856404;
   }
   .status-shipped {
      background-color: #d1ecf1;
      color: #0c5460;
   }
   .status-delivered {
      background-color: #d4edda;
      color: #155724;
   }
   .order-info-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1.5rem;
      margin-bottom: 2rem;
      padding: 1.5rem;
      background-color: #f8f9fa;
      border-radius: 8px;
   }
   .info-item strong {
      display: block;
      color: #7f8c8d;
      font-size: 0.9rem;
      margin-bottom: 0.3rem;
   }
   .info-item span {
      color: #2c3e50;
      font-size: 1.1rem;
   }
   .items-section h3 {
      margin-bottom: 1.5rem;
      color: #2c3e50;
   }
   .order-item {
      display: grid;
      grid-template-columns: 80px 1fr auto auto;
      gap: 1.5rem;
      align-items: center;
      padding: 1.5rem;
      border: 1px solid #ecf0f1;
      border-radius: 8px;
      margin-bottom: 1rem;
   }
   .item-image {
      width: 80px;
      height: 80px;
      background-color: #ecf0f1;
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
   }
   .item-info h4 {
      color: #2c3e50;
      margin-bottom: 0.5rem;
   }
   .item-quantity {
      color: #7f8c8d;
   }
   .item-price {
      font-size: 1.2rem;
      color: #27ae60;
      font-weight: bold;
   }
   .order-summary {
      margin-top: 2rem;
      padding-top: 2rem;
      border-top: 2px solid #ecf0f1;
      text-align: right;
   }
   .summary-total {
      font-size: 2rem;
      color: #2c3e50;
      font-weight: bold;
   }
   .summary-total span {
      color: #27ae60;
   }
</style>

<a
   href="{% url 'order_history' %}"
   class="btn btn-primary"
   style="margin-bottom: 1rem"
   >‚Üê Back to Orders</a
>

<div class="order-detail-container">
   <div class="order-card">
      <div class="order-header">
         <h1 class="order-title">Order #{{ order.id }}</h1>
         <span class="order-status status-{{ order.status|lower }}">
            {{ order.status }}
         </span>
      </div>

      <div class="order-info-grid">
         <div class="info-item">
            <strong>Order Date</strong>
            <span>{{ order.created_at|date:"M d, Y - H:i" }}</span>
         </div>
         <div class="info-item">
            <strong>Total Items</strong>
            <span>{{ items.count }}</span>
         </div>
         <div class="info-item">
            <strong>Customer</strong>
            <span>{{ order.user.username }}</span>
         </div>
         <div class="info-item">
            <strong>Order Status</strong>
            <span>{{ order.status }}</span>
         </div>
      </div>

      <div class="items-section">
         <h3>Order Items</h3>
         {% for item in items %}
         <div class="order-item">
            <div class="item-image">
               {% if item.product.image %}
               <img
                  src="{{ item.product.image.url }}"
                  alt="{{ item.product.name }}"
                  style="
                     width: 100%;
                     height: 100%;
                     object-fit: cover;
                     border-radius: 4px;
                  "
               />
               {% else %} üì¶ {% endif %}
            </div>
            <div class="item-info">
               <h4>{{ item.product.name }}</h4>
               <div class="item-quantity">Quantity: {{ item.quantity }}</div>
               <div style="color: #7f8c8d; font-size: 0.9rem">
                  Price per unit: ${{ item.price }}
               </div>
            </div>
            <div class="item-price">
               ${% widthratio item.price 1 item.quantity %}
            </div>
         </div>
         {% endfor %}
      </div>

      <div class="order-summary">
         <div class="summary-total">
            Total: <span>${{ order.total_price }}</span>
         </div>
      </div>
   </div>
</div>
{% endblock %}
